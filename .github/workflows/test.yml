name: Tests

on: [push]

jobs:
  test-unit:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Go Unit Tests
        id: go-unit-tests
        run: make test
  test-integration:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Start System
        id: start-system
        run: make run
      - name: Go Integration Tests
        id: go-integration-tests
        run: make run
        run: make test_int
