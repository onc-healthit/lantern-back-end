name: Static Analysis

on: [push]

jobs:
  Golintr:
      name: Go Lintr
      runs-on: macOS-latest
      steps:
        - uses: actions/checkout@v2
        - name: Install golangci-lint
          run: brew install golangci/tap/golangci-lint
        - name: Run Go Lintr
          run: make lint_go
        # - name: Check golangci-lint for capabilityquerier
        #   uses: golangci/golangci-lint-action@v2.3.0
        #   with:
        #     version: v1.29
        #     working-directory: capabilityquerier
        #     args: ./...
        # - name: Check golangci-lint for lanternmq
        #   uses: golangci/golangci-lint-action@v2.3.0
        #   with:
        #     version: v1.29
        #     working-directory: lanternmq
        #     args: ./...
        # - name: Check golangci-lint for fhir
        #   uses: golangci/golangci-lint-action@v2.3.0
        #   with:
        #     version: v1.29
        #     working-directory: fhir
        #     args: ./...
        # - name: Check golangci-lint for endpointmanager
        #   uses: golangci/golangci-lint-action@v2.3.0
        #   with:
        #     version: v1.29
        #     working-directory: endpointmanager
        #     args: ./...
        # - name: Check golangci-lint for capabilityreceiver
        #   uses: golangci/golangci-lint-action@v2.3.0
        #   with:
        #     version: v1.29
        #     working-directory: capabilityreceiver
        #     args: ./...
  Rlintr:
    runs-on: macOS-latest
    steps:
      - uses: actions/checkout@v2

      - uses: r-lib/actions/setup-r@v1

      - name: Lint R Files
        run: cd ./scripts && ./lintr.sh
